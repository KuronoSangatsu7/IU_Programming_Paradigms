#lang slideshow

(define (increment bits)
  (define (helper bits has-one current)
  (cond
    [(= has-one 1) 
                    (cond
                      [empty? bits (append current '(1))]
                      [else (cond
                            [(= (first bits) 1) (helper (rest bits) has-one (append current '(0)))]
                            [else (helper (rest bits) (- has-one 1) (append current '(1)))])
                          ])]
    [else
                    (cond
                      [empty? bits current]
                      [else (helper (rest bits) has-one (append current list(first bits)))])
                    ]))
    (helper bits 1 empty))

(increment '(0 1 0 1 0))